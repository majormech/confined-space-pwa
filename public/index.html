<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DFD On-site Rescue Plan</title>

  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#c41212" />
  <link rel="icon" href="/icon-192.png" />

  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <span class="badge"></span>
      <div>
        <div class="title">DFD On-site Rescue Plan</div>
        <div class="sub">Confined Space</div>
      </div>
    </div>
  </header>

  <main class="container">
    <form id="rescueForm" class="card">
      <h1>DFD On-site Rescue Plan</h1>
      <p class="muted">Complete all applicable sections. Submit will email a completed PDF.</p>

      <!-- ====================== PAGE 1 (PLAN) ====================== -->
      <section class="section">
        <h2>Confined Space Information</h2>

        <div class="grid-3">
          <label>
            Confined Space Name/Location
            <input type="text" name="csName" required />
          </label>

          <label>
            Identification #
            <input type="text" name="csId" required />
          </label>

          <label>
            Date
            <input type="date" name="date" required />
          </label>
        </div>

        <div class="grid-2">
          <label>
            Attendant
            <input type="text" name="attendant" />
          </label>

          <label>
            Completed by
            <input type="text" name="completedBy" required />
          </label>
        </div>

        <label>
          Email to send completed PDF to
          <input type="email" name="emailTo" required />
        </label>
      </section>

      <section class="section">
        <h2>On-Site Rescue Personnel / Rank</h2>

        <div class="grid-2">
          <label>1) <input type="text" name="rescuePerson1" /></label>
          <label>3) <input type="text" name="rescuePerson3" /></label>
          <label>2) <input type="text" name="rescuePerson2" /></label>
          <label>4) <input type="text" name="rescuePerson4" /></label>
        </div>
      </section>

      <section class="section">
        <h2>Methods of Communication</h2>

        <div class="box">
          <div class="row">
            <div class="row-label">Attendant to Rescue Personnel</div>
            <div class="row-inputs">
              <label class="radio"><input type="radio" name="commAR" value="phone"> Phone</label>
              <label class="radio"><input type="radio" name="commAR" value="audible"> Audible Signal</label>
              <label class="radio"><input type="radio" name="commAR" value="radio"> Radio</label>
              <label class="radio"><input type="radio" name="commAR" value="face"> Face to face</label>
            </div>
          </div>

          <div class="row">
            <div class="row-label">Attendant to Workers</div>
            <div class="row-inputs">
              <!-- MULTI: name="commAW" -->
              <label class="check"><input type="checkbox" name="commAW" value="phone"> Phone</label>
              <label class="check"><input type="checkbox" name="commAW" value="radio"> Radio</label>
              <label class="check"><input type="checkbox" name="commAW" value="intercom"> Intercom</label>
              <label class="check"><input type="checkbox" name="commAW" value="audible"> Audible Signal</label>
              <label class="check"><input type="checkbox" name="commAW" value="visual"> Visual Hand Signal</label>
              <label class="check"><input type="checkbox" name="commAW" value="rope"> Rope Signal</label>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>Methods of Rescue</h2>

        <div class="box">
          <div class="row">
            <div class="row-label">Type</div>
            <div class="row-inputs">
              <label class="radio"><input type="radio" name="rescueMethod" value="external"> External (Retrieval)</label>
              <label class="radio"><input type="radio" name="rescueMethod" value="internal"> Internal</label>
              <label class="radio"><input type="radio" name="rescueMethod" value="congested"> Congested</label>
            </div>
          </div>

          <div class="grid-2">
            <label>
              Internal (describe)
              <input type="text" name="rescueInternalDesc" />
            </label>

            <label>
              Congested (describe)
              <input type="text" name="rescueCongestedDesc" />
            </label>
          </div>

          <div class="grid-2">
            <label class="check">
              <input type="checkbox" name="haulingRequired">
              Hauling system required
            </label>
            <label>
              Hauling system notes
              <input type="text" name="haulingDesc" />
            </label>

            <label class="check">
              <input type="checkbox" name="loweringRequired">
              Patient lowering system required / lowering area
            </label>
            <label>
              Lowering notes
              <input type="text" name="loweringDesc" />
            </label>
          </div>

          <div class="row">
            <div class="row-label">Anchor overhead</div>
            <div class="row-inputs">
              <label class="check"><input type="checkbox" name="anchorOverhead" value="beam"> Beam</label>
              <label class="check"><input type="checkbox" name="anchorOverhead" value="stairwell"> Stairwell</label>
              <label class="check"><input type="checkbox" name="anchorOverhead" value="support strut"> Support Strut</label>
              <label class="check"><input type="checkbox" name="anchorOverhead" value="support column"> Support Column</label>
              <label class="check"><input type="checkbox" name="anchorOverhead" value="tripod"> Tripod</label>
            </div>
          </div>

          <label>
            Tripod notes (if applicable)
            <input type="text" name="anchorTripodDesc" />
          </label>

          <div class="row">
            <div class="row-label">Pre-Rigging required?</div>
            <div class="row-inputs">
              <label class="radio"><input type="radio" name="preRig" value="yes"> Yes</label>
              <label class="radio"><input type="radio" name="preRig" value="no"> No</label>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>Rescue Equipment Requirements</h2>
        <p class="muted">Check where applicable and indicate quantity.</p>

        <div class="equip-grid">
          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_hauling_systems"> Hauling Systems</label>
            <input type="text" name="eq_hauling_systems_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_carabiners"> Carabiners</label>
            <input type="text" name="eq_carabiners_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_pulleys"> Pulleys</label>
            <input type="text" name="eq_pulleys_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_shock"> Shock absorbers/lanyards</label>
            <input type="text" name="eq_shock_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_anchor_straps"> Anchor Straps</label>
            <input type="text" name="eq_anchor_straps_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_webbing"> Webbing</label>
            <input type="text" name="eq_webbing_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_ascenders"> Ascenders</label>
            <input type="text" name="eq_ascenders_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_body_harnesses"> Body Harnesses</label>
            <input type="text" name="eq_body_harnesses_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_rigging_plates"> Rigging Plates</label>
            <input type="text" name="eq_rigging_plates_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_safety_lines"> Safety Lines</label>
            <input type="text" name="eq_safety_lines_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_main_lines"> Main Lines</label>
            <input type="text" name="eq_main_lines_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_wrist_ankle"> Wrist/Ankle Harnesses</label>
            <input type="text" name="eq_wrist_ankle_qty" placeholder="Qty" />
          </div>

          <div class="equip-item">
            <label class="check"><input type="checkbox" name="eq_fire_ext"> Fire Extinguishers</label>
            <input type="text" name="eq_fire_ext_qty" placeholder="Qty" />
          </div>
        </div>

        <label>
          Other
          <textarea name="eq_other" rows="2"></textarea>
        </label>
      </section>

      <section class="section">
        <h2>Medical Equipment Requirements</h2>

        <div class="box">
          <label class="check"><input type="checkbox" name="med_first_aid"> First Aid Kit</label>

          <div class="grid-2">
            <label class="check">
              <input type="checkbox" name="med_packaging">
              Packaging Device
            </label>
            <label>
              Packaging Device notes
              <input type="text" name="med_packaging_desc" />
            </label>

            <label class="check">
              <input type="checkbox" name="med_other">
              Other
            </label>
            <label>
              Other notes
              <input type="text" name="med_other_desc" />
            </label>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>Additional PPE Requirements</h2>

        <div class="box">
          <div class="row-inputs">
            <label class="check"><input type="checkbox" name="ppe" value="high visibility vests"> High Visibility Vests</label>
            <label class="check"><input type="checkbox" name="ppe" value="hearing protection"> Hearing Protection</label>
            <label class="check"><input type="checkbox" name="ppe" value="safety boots"> Safety Boots</label>
            <label class="check"><input type="checkbox" name="ppe" value="hard hats"> Hard Hats</label>
            <label class="check"><input type="checkbox" name="ppe" value="safety glasses"> Safety Glasses/Goggles</label>
            <label class="check"><input type="checkbox" name="ppe" value="gloves"> Gloves</label>
            <label class="check"><input type="checkbox" name="ppe" value="face shield"> Face Shield</label>
          </div>

          <label>
            Other PPE (describe)
            <input type="text" name="ppe_other_desc" />
          </label>
        </div>
      </section>

      <!-- ====================== PAGE 2 (DESCRIPTION / DIAGRAM) ====================== -->
      <section class="section">
        <h2>Description & Diagram</h2>

        <label>
          Description of Space (include location of attendant)
          <textarea name="spaceDescription" required rows="5"></textarea>
        </label>

        <label>
          Diagram of Space (optional photo)
          <input type="file" name="diagram" accept="image/*" />
        </label>
      </section>

      <!-- ====================== PAGE 3 (PROCEDURES) ====================== -->
      <section class="section">
        <h2>On-Site Rescue Procedures</h2>

        <div class="box">
          <h3 class="h3">Prior to entry / work</h3>
          <label class="check">
            <input type="checkbox" name="prior_1" />
            Entry supervisor ensured rescue plan completed & equipment available.
          </label>
          <label class="check">
            <input type="checkbox" name="prior_2" />
            Adequate trained persons available for immediate rescue implementation.
          </label>
          <label class="check">
            <input type="checkbox" name="prior_3" />
            Emergency procedures reviewed with entrants & related personnel.
          </label>
          <label class="check">
            <input type="checkbox" name="prior_4" />
            Attendant established communication with all workers.
          </label>

          <h3 class="h3">On entry / while working</h3>
          <label class="check">
            <input type="checkbox" name="entry_1" />
            Attendant remains in constant communication with all workers inside.
          </label>
          <label class="check">
            <input type="checkbox" name="entry_2" />
            Attendant notified immediately if entrant recognizes unusual action/hazard/unsafe act.
          </label>
          <label class="check">
            <input type="checkbox" name="entry_3" />
            Entrants exit ASAP when ordered / symptoms / unacceptable condition / alarm.
          </label>

          <h3 class="h3">In the event of a rescue</h3>
          <label class="check">
            <input type="checkbox" name="rescue_1" />
            Attendant does not enter; summons rescue response using defined communication.
          </label>
        </div>

        <label>
          Additional comments (also prints on procedures page)
          <textarea name="comments" rows="3"></textarea>
        </label>
      </section>

      <div class="actions">
        <button type="submit" id="submitBtn">Submit & Email PDF</button>
        <div class="status" id="status"></div>
      </div>
    </form>
  </main>

  <script src="/app.js"></script>
</body>
</html>
